<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>duckdb-wasm-local example</title>
    <link rel="stylesheet" type="text/css" href="css/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />    
  </head>
  <body>
      <div id="feedback">Loading DuckDB</div>
      <div class="grid-view">
	  <div id="map"></div>	  
	  <div>
	      <input type="text" id="q" value="" placeholder="" disabled="disabled" />
	      <select id="locality" disabled="disabled"></select>
	      <select id="neighbourhood" disabled="disabled"></select>	      
	      <button id="submit" type="submit" disabled="disabled">Search</button>
	      <div id="results">
	      </div>
	  </div>
      </div>

      <script type="text/javascript" src="javascript/leaflet.js"></script>
      <script type="text/javascript" src="javascript/protomaps-leaflet.js"></script>      
      <script type="text/javascript" src="javascript/init.js"></script>
      
      <script type="module">
       // import * as duckdbduckdbWasm from "https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm@1.28.1-dev106.0/+esm";
       import * as duckdbduckdbWasm from "./duckdb-wasm-local/duckdb-wasm.js"
       import * as app from "./javascript/app.js"
       
       window.duckdbduckdbWasm = duckdbduckdbWasm;
       
       getDb().then(async (db) => {

	   app.start(db);
	   
       }).catch((err) => {
	   var fb = document.getElementById("feedback");
	   fb.innerText = "Failed to configure DuckDB: " + err;
	   console.error("Failed to configure DuckDB", err);
       });
       
    </script>
  </body>
</html>
